<div class="container-fluid p-4">
  <div class="row">
    <!-- LEFT COLUMN -->
    <div class="col-md-6 d-flex flex-column gap-4">
      <!-- Overview Card -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Overview as of: {{ currentDate }}</h5>
          <div class="row">
            <div class="col">
              <h6>Recent Income</h6>
              <ul class="list-unstyled">
                <li *ngFor="let income of recentIncomes">
                  • {{ income.source ?? "Unknown Source" }} -
                  <b> ${{ income.amount?.toFixed(2) ?? "0.00" }}</b>
                </li>
              </ul>
            </div>
            <div class="col">
              <h6>Recent Expenses</h6>
              <ul class="list-unstyled">
                <li *ngFor="let expense of recentExpenses">
                  • {{ expense.source ?? "Unknown Source" }} -
                  <b> ${{ expense.amount?.toFixed(2) ?? "0.00" }} </b>
                </li>
              </ul>
            </div>
          </div>
          <h5 class="card-title">
            Spending Money: {{ finalFunds | currency }}
          </h5>
        </div>
      </div>

      <!-- Money Saved Card -->
      <div class="card shadow-sm">
        <div class="card-body">
          <!-- Insert your MoneySavedCardComponent here -->
          <app-money-saved></app-money-saved>
        </div>
      </div>

      <!-- Income Breakdown Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="card-title text-primary">Income Breakdown</h5>
            <button
              routerLink="/income"
              class="btn btn-sm btn-outline-secondary"
            >
              +
            </button>
          </div>
          <div class="mt-3">
            <p class="card-text">
              <strong>Total Income for the month of May:</strong>
              {{ monthlyIncome | currency }}
            </p>
            <p class="card-text">
              <strong>Savings Plan:</strong> 50% / 30% / 20%
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- End of LEFT COLUMN -->

    <!-- RIGHT COLUMN -->
    <div class="col-md-6 d-flex flex-column gap-4">
      <!-- Pie Chart Card -->
      <div class="card shadow-sm" style="height: 300px">
        <div
          class="card-body d-flex justify-content-center align-items-center p-2"
          style="height: 100%"
        >
          <canvas
            baseChart
            [data]="pieChartData"
            [options]="pieChartOptions"
            [type]="'pie'"
          ></canvas>
        </div>
      </div>

      <!-- Bar Chart Card -->
      <div class="card shadow-sm" style="height: 300px">
        <div
          class="card-body d-flex justify-content-center align-items-center p-2"
          style="height: 100%"
        >
          <canvas
            baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [type]="'bar'"
          ></canvas>
        </div>
      </div>

      <!-- Expense Breakdown Card -->
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="card-title text-danger">Expense Breakdown</h5>
            <button
              routerLink="/expense"
              class="btn btn-sm btn-outline-secondary"
            >
              +
            </button>
          </div>
          <div class="mt-3">
            <h4 class="text-secondary">
              <strong>Total Expenses for the month of May:</strong>
              {{ monthlyExpense | currency }}
            </h4>
          </div>
        </div>
      </div>
    </div>
    <!-- End of RIGHT COLUMN -->
  </div>
</div>
